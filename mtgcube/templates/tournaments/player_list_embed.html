{% load i18n %}

{% block javascript %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    function updatePlayerInfo(draftId) {
        var infoElement = document.getElementById("player-list-" + draftId);
        var url = "{% url 'tournaments:draft_players' 0 %}".replace(0, draftId);
        fetch(url)
        .then(response => response.json())
        .then(data => {
            infoElement.innerHTML = data.players.map((player) => `${player}`).join(', ');
        })
        .catch(error => console.error('Error updating match info:', error));
    }
    
    var draftId = "{{ draft_id }}";
    updatePlayerInfo(draftId);

    setInterval(function() {
        updatePlayerInfo(draftId);
    }, 120000); // 120 seconds
});
</script>
{% endblock %}

{% block content %}
    <span class="player-list" id="player-list-{{draft_id }}"></span>
{% endblock %}
